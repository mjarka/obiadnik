(this.webpackJsonpobiadnik_react=this.webpackJsonpobiadnik_react||[]).push([[0],{117:function(e,t,n){},118:function(e,t,n){},144:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(12),o=n.n(i),r=(n(117),n(118),n(198)),s=n(209),l=n(190),j=n(194),u=n(105),d=n(195),b=n(196),O=n(29),p=n(96),h=n.n(p),m=n(95),f=n.n(m),x=n(98),g=n.n(x),v=n(97),y=n.n(v),k=n(3);function S(){return Object(k.jsx)("div",{children:Object(k.jsx)(l.a,{position:"static",children:Object(k.jsxs)(j.a,{children:[Object(k.jsx)(u.a,{variant:"h6",children:"Obiados"}),Object(k.jsxs)(s.a,{xsDown:!0,children:[Object(k.jsx)(d.a,{color:"inherit",component:O.b,to:"/products",children:"Produkty"}),Object(k.jsx)(d.a,{color:"inherit",component:O.b,to:"/recipes",children:"Przepisy"}),Object(k.jsx)(d.a,{color:"inherit",component:O.b,to:"/calendar",children:"Kalendarz"}),Object(k.jsx)(d.a,{color:"inherit",component:O.b,to:"/basket",children:"Koszyk"})]}),Object(k.jsxs)(s.a,{smUp:!0,children:[Object(k.jsx)(b.a,{"aria-label":"delete",component:O.b,color:"inherit",to:"/products",children:Object(k.jsx)(f.a,{fontSize:"small"})}),Object(k.jsx)(b.a,{"aria-label":"delete",component:O.b,color:"inherit",to:"/recipes",children:Object(k.jsx)(h.a,{fontSize:"small"})}),Object(k.jsx)(b.a,{"aria-label":"delete",component:O.b,color:"inherit",to:"/calendar",children:Object(k.jsx)(y.a,{fontSize:"small"})}),Object(k.jsx)(b.a,{"aria-label":"delete",component:O.b,color:"inherit",to:"/basket",children:Object(k.jsx)(g.a,{fontSize:"small"})})]})]})})})}var z=n(67),C=n(26),w=n.n(C),N=n(34),D=n(13),W=n(207),B=n(199),P=n(213),I=n(197),E=n(17),F=n.n(E),T=n(99),R=n.n(T),Z=n(66),K=n.n(Z),L=n(20),M=n(102),_=n(212),q=Object(I.a)((function(e){return{root:{background:function(e){return e.color},marginRight:e.spacing(1),marginBottom:e.spacing(1)}}}));var A=function(e){e.color,e.children;var t=Object(M.a)(e,["color","children"]),n=q(e);return Object(k.jsx)(_.a,Object(L.a)({className:n.root},t))},J="https://obiadnik.herokuapp.com";function Q(){var e=Object(I.a)((function(e){return{divider:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},chip:{marginRight:e.spacing(1),marginBottom:e.spacing(1)}}}))(),t=Object(c.useState)(""),n=Object(D.a)(t,2),a=n[0],i=n[1],o=Object(c.useState)(""),s=Object(D.a)(o,2),l=s[0],j=s[1],u=Object(c.useState)("1"),b=Object(D.a)(u,2),O=b[0],p=b[1],h=Object(c.useState)([]),m=Object(D.a)(h,2),f=m[0],x=m[1],g=Object(c.useState)(""),v=Object(D.a)(g,2),y=v[0],S=v[1],C=Object(c.useState)([]),E=Object(D.a)(C,2),T=E[0],Z=E[1],L=Object(c.useState)("1"),M=Object(D.a)(L,2),_=M[0],q=M[1],Q=Object(c.useState)([]),G=Object(D.a)(Q,2),U=G[0],H=G[1],V=Object(c.useState)([]),X=Object(D.a)(V,2),Y=X[0],$=X[1],ee=Object(c.useState)([]),te=Object(D.a)(ee,2),ne=te[0],ce=te[1],ae=function(){};Object(c.useEffect)((function(){function e(){return(e=Object(N.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F.a.get(J+"/products?_sort=category:ASC").then((function(e){ce(e.data),console.log(e.data)})).catch((function(e){console.log(e)})),F.a.get(J+"/units").then((function(e){Z(e.data),S(e.data[0].name)})).catch((function(e){console.log(e)})),F.a.get(J+"/categories").then((function(e){x(e.data),i(e.data[0].name),j(e.data[0].color)})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return console.log(Y),Object(k.jsxs)(r.a,{children:[Object(k.jsxs)(B.a,{container:!0,spacing:3,className:e.divider,children:[Object(k.jsx)(B.a,{item:!0,xs:12,sm:4,children:Object(k.jsx)(W.a,{id:"standard-basic",label:"Wpisz nazw\u0119 produktu",fullWidth:!0,value:U,onChange:function(e){H(e.target.value)},required:!0})}),Object(k.jsx)(B.a,{item:!0,xs:12,sm:4,children:Object(k.jsx)(W.a,{id:"unit",select:!0,label:"Wybierz jednostk\u0119",value:y,fullWidth:!0,onChange:function(e){S(e.target.value)},children:T.map((function(e){return Object(k.jsx)(P.a,{value:e.name,onClick:function(){return t=e.id,q(t),void console.log(t);var t},children:e.name},e.id)}))})}),Object(k.jsx)(B.a,{item:!0,xs:12,sm:4,children:Object(k.jsx)(W.a,{id:"category",select:!0,label:"Wybierz kategori\u0119",value:a,fullWidth:!0,onChange:function(e){i(e.target.value)},children:f.map((function(e){return Object(k.jsx)(P.a,{value:e.name,onClick:function(){return t=e.id,n=e.color,p(t),j(n),void console.log(n);var t,n},children:e.name},e.id)}))})}),Object(k.jsx)(B.a,{item:!0,xs:4,sm:4,children:Object(k.jsx)(d.a,{variant:"contained",color:"primary",className:e.button,endIcon:Object(k.jsx)(K.a,{}),onClick:function(){var e=U,t=_,n=O;ne.some((function(t){return t.name===e}))?(console.log(!0),console.log("ju\u017c mam takie co\u015b"),F.a.put(J+"/products/"+Y,{name:e,category:n,unit:t}).then((function(e){console.log(e),console.log(e.data)}))):(F.a.post(J+"/products",{name:e,category:n,unit:t}).then((function(e){console.log(e),console.log(e.data)})),ce((function(t){return[].concat(Object(z.a)(ne),[{name:e,category:{color:l}}])})))},children:"Zapisz"})})]}),ne.map((function(e){return Object(k.jsx)(A,{color:e.category.color,label:e.name,onDelete:ae,deleteIcon:Object(k.jsx)(R.a,{}),onClick:function(t){return function(e,t){H(e.name),$(e.id),i(e.category.name),S(e.unit.name)}(e)}},e.id)}))]})}var G=n(14),U=n(64),H=n(205),V=n(208),X=n(211),Y=n(201),$=n(202),ee=n(203),te=n(204);function ne(){var e=a.a.useState(null),t=Object(D.a)(e,2),n=(t[0],t[1]),c=a.a.useState(!1),i=Object(D.a)(c,2),o=i[0],r=i[1],s=a.a.useState({title:"",year:""}),l=Object(D.a)(s,2),j=l[0],u=l[1],b=function(){u({title:"",year:""}),r(!1)};return Object(k.jsx)(X.a,{open:o,onClose:b,"aria-labelledby":"form-dialog-title",children:Object(k.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n({title:j.title,year:parseInt(j.year,10)}),b()},children:[Object(k.jsx)(Y.a,{id:"form-dialog-title",children:"Dodaj nowy produkt"}),Object(k.jsxs)($.a,{children:[Object(k.jsx)(ee.a,{children:"Zabrak\u0142o produktu na li\u015bcie? Dodaj go!"}),Object(k.jsx)(W.a,{autoFocus:!0,margin:"dense",id:"name",value:j.title,onChange:function(e){return u(Object(L.a)(Object(L.a)({},j),{},{title:e.target.value}))},label:"Nazwa",type:"text"}),Object(k.jsx)(W.a,{margin:"dense",id:"name",value:j.year,onChange:function(e){return u(Object(L.a)(Object(L.a)({},j),{},{year:e.target.value}))},label:"Kategoria",type:"text"})]}),Object(k.jsxs)(te.a,{children:[Object(k.jsx)(d.a,{onClick:b,color:"primary",children:"Cancel"}),Object(k.jsx)(d.a,{type:"submit",color:"primary",children:"Add"})]})]})})}function ce(){var e=Object(I.a)((function(e){return{divider:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},chip:{marginRight:e.spacing(1),marginBottom:e.spacing(1)}}}))(),t=Object(c.useState)({recipeName:"",recipeDescription:""}),n=Object(D.a)(t,2),a=n[0],i=n[1],o=Object(c.useState)([]),s=Object(D.a)(o,2),l=s[0],j=s[1],b=Object(c.useState)([]),O=Object(D.a)(b,2),p=O[0],h=O[1],m=Object(c.useState)([]),f=Object(D.a)(m,2),x=f[0],g=f[1],v=function(){},y=function(e){var t=e.target.value;i(Object(L.a)(Object(L.a)({},a),{},Object(U.a)({},e.target.id,t)))};Object(c.useEffect)((function(){function e(){return(e=Object(N.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F.a.get(J+"/recipes").then((function(e){j(e.data),console.log(e.data)})).catch((function(e){console.log(e)})),F.a.get(J+"/products").then((function(e){h(e.data)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return console.log(x),Object(k.jsxs)(r.a,{children:[Object(k.jsx)(ne,{}),Object(k.jsxs)(B.a,{container:!0,className:e.divider,spacing:3,children:[Object(k.jsxs)(B.a,{item:!0,sm:6,xs:12,children:[Object(k.jsx)(B.a,{item:!0,xs:12,children:Object(k.jsx)(W.a,{id:"recipeName",label:"Nazwa przepisu",value:a.recipeName,onChange:y,fullWidth:!0,required:!0})}),Object(k.jsx)(B.a,{item:!0,xs:12,className:e.divider,children:Object(k.jsx)(W.a,{id:"recipeDescription",label:"Przepis",multiline:!0,rows:4,value:a.recipeDescription,onChange:y,fullWidth:!0})}),Object(k.jsx)(B.a,{item:!0,xs:12,className:e.divider,children:Object(k.jsx)(V.a,{disablePortal:!0,fullWidth:!0,multiple:!0,size:"small",id:"combo-box-demo",options:p,value:x,onChange:function(e,t){return g(t)},getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(k.jsx)(W.a,Object(L.a)(Object(L.a)({},e),{},{variant:"standard",label:"Produkty"}))}})}),Object(k.jsx)(B.a,{item:!0,xs:4,sm:4,children:Object(k.jsx)(d.a,{variant:"contained",color:"primary",className:e.button,endIcon:Object(k.jsx)(K.a,{}),onClick:function(){var e=x.map((function(e){var t={},n={};return n.id=e.id,t.product=n,t})),t=a.recipeName,n=a.recipeDescription,c=e;F.a.post(J+"/recipes",{name:t,Recipe:n,productsQuantity:c}).then((function(e){console.log(e),console.log(e.data)}))},children:"Zapisz"})})]}),Object(k.jsxs)(B.a,{item:!0,sm:6,xs:12,children:[x.length>0&&Object(k.jsx)(u.a,{variant:"caption",gutterBottom:!0,children:"Wpisz ilo\u015b\u0107 produkt\xf3w"}),Object(k.jsx)(B.a,{container:!0,children:x.map((function(e){return Object(k.jsx)(B.a,{item:!0,xs:6,children:Object(k.jsx)(W.a,{label:e.name,id:"standard-size-small",size:"small",helperText:e.unit.name})})}))})]})]}),Object(k.jsx)(H.a,{}),Object(k.jsx)(B.a,{container:!0,className:e.divider,spacing:3,children:Object(k.jsx)(B.a,{item:!0,xs:12,sm:12,children:l.map((function(e){return Object(k.jsx)(_.a,{label:e.name,onDelete:v},e.id)}))})})]})}var ae=n(206),ie=n(145),oe=n(101),re=Object(oe.a)({palette:{primary:{main:"#682D63"}}});function se(){var e=Object(I.a)((function(e){return{divider:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},chip:{marginRight:e.spacing(1),marginBottom:e.spacing(1)}}}))(),t=Object(c.useState)([]),n=Object(D.a)(t,2),a=n[0],i=n[1];Object(c.useEffect)((function(){function e(){return(e=Object(N.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F.a.get(J+"/recipes").then((function(e){i(e.data),console.log(e.data)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return Object(k.jsxs)(r.a,{children:["Zaznacz przepisy do kupienia",Object(k.jsx)(B.a,{container:!0,spacing:3,className:e.divider,children:Object(k.jsx)(B.a,{item:!0,xs:12,sm:12,children:a.map((function(e){return Object(k.jsx)(_.a,{label:e.name,color:e.isSelected?"secondary":"",onClick:function(){return function(e){var t=a.indexOf(e);console.log(t);var n=Object(z.a)(a),c=Object(L.a)({},n[t]);c.isSelected=!c.isSelected,n[t]=c,console.log(n),i(n),console.log(a);var o=!!c.isSelected;F.a.put(J+"/recipes/"+e.id,{isSelected:o}).then((function(e){console.log(e)}))}(e)}},e.id)}))})})]})}function le(){var e=Object(c.useState)([]),t=Object(D.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)([]),o=Object(D.a)(i,2),s=o[0],l=o[1];return Object(c.useEffect)((function(){function e(){return(e=Object(N.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F.a.get(J+"/recipes?isSelected=true").then((function(e){a(e.data)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){l(n.flatMap((function(e){return e.productsQuantity.flatMap((function(e){return e}))})))}),[n]),console.log(s),Object(k.jsxs)(r.a,{children:["Produkty do kupienia",Object(k.jsx)(B.a,{container:!0,spacing:3,children:Object(k.jsx)(B.a,{item:!0,xs:12,sm:12,children:s.map((function(e){return Object(k.jsx)(_.a,{label:e.product.name},e.id)}))})})]})}function je(){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(ae.a,{theme:re,children:Object(k.jsx)(O.a,{children:Object(k.jsx)(r.a,{maxWidth:"md",disableGutters:"true",children:Object(k.jsxs)(ie.a,{elevation:3,children:[Object(k.jsx)(S,{}),Object(k.jsxs)(G.c,{children:[Object(k.jsx)(G.a,{path:"/products",children:Object(k.jsx)(Q,{})}),Object(k.jsx)(G.a,{path:"/recipes",children:Object(k.jsx)(ce,{})}),Object(k.jsx)(G.a,{path:"/calendar",children:Object(k.jsx)(se,{})}),Object(k.jsx)(G.a,{path:"/basket",children:Object(k.jsx)(le,{})})]})]})})})})})}var ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,215)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),i(e),o(e)}))};o.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(je,{})}),document.getElementById("root")),ue()}},[[144,1,2]]]);
//# sourceMappingURL=main.706ed92f.chunk.js.map